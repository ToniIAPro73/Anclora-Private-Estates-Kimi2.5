import{c as w,u as M,r as t,j as e}from"./index-CR2pPLyh.js";import{gsap as m}from"./index-BDA7kSH2.js";import{ScrollTrigger as R}from"./ScrollTrigger-Heh74mPD.js";import{M as f}from"./map-pin-DADewY7t.js";import{A as u}from"./arrow-right-gen6t78j.js";const E=[["path",{d:"M2 4v16",key:"vw9hq8"}],["path",{d:"M2 8h18a2 2 0 0 1 2 2v10",key:"1dgv2r"}],["path",{d:"M2 17h20",key:"18nfp3"}],["path",{d:"M6 8v9",key:"1yriud"}]],j=w("bed",E);const P=[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]],g=w("maximize",P);m.registerPlugin(R);const b=[{id:1,name:"Cala Fornells",typeKey:"properties.villa1",location:"Cala Fornells, Mallorca",beds:5,sqm:450,price:"€3,200,000",image:"/images/collection-villa-1.jpg"},{id:2,name:"Santa Ponsa",typeKey:"properties.villa2",location:"Santa Ponsa, Mallorca",beds:4,sqm:380,price:"€2,850,000",image:"/images/collection-villa-2.jpg"},{id:3,name:"Palma Old Town",typeKey:"properties.villa3",location:"Palma de Mallorca",beds:3,sqm:220,price:"€1,950,000",image:"/images/collection-villa-3.jpg"}];function L(){const{t:s}=M(),x=t.useRef(null),p=t.useRef(null),h=t.useRef([]),v=t.useRef(null),[c,N]=t.useState(()=>window.innerWidth<=1024);return t.useEffect(()=>{const a=()=>N(window.innerWidth<=1024);return window.addEventListener("resize",a,{passive:!0}),()=>window.removeEventListener("resize",a)},[]),t.useEffect(()=>{if(c)return;const a=x.current,n=p.current,r=h.current.filter(Boolean),o=v.current;if(!a||!n||r.length===0||!o)return;const y=m.context(()=>{const l=m.timeline({defaults:{ease:"none"},scrollTrigger:{trigger:a,start:"top top",end:"+=140%",pin:!0,scrub:1.4,anticipatePin:1}});l.fromTo(n,{x:"-12vw",y:0,opacity:0},{x:0,y:0,opacity:1,duration:.22,ease:"none"},0),r.forEach((d,i)=>{l.fromTo(d,{x:"14vw",y:"3.5vh",opacity:0,rotate:.45},{x:0,y:0,opacity:1,rotate:0,duration:.27,ease:"none"},.05+i*.035)}),l.fromTo(o,{y:"2.5vh",opacity:0},{y:0,opacity:1,duration:.24,ease:"none"},.125);const k=["12vw","16vw","20vw"];r.forEach((d,i)=>{l.to(d,{x:k[i]??"24vw",y:"-4vh",opacity:0,rotate:.35,duration:.28},.8+i*.02)}),l.to(n,{x:"-6vw",y:"-3vh",opacity:0,duration:.26},.66),l.to(o,{x:"11vw",y:"-3vh",opacity:0,duration:.24},.83)},a);return()=>y.revert()},[c,s]),e.jsx("section",{ref:x,id:"properties",className:"section-pinned bg-anclora-cream dark:bg-anclora-teal z-20",children:c?e.jsxs("div",{className:"relative h-auto px-5 pt-24 pb-10",children:[e.jsxs("div",{className:"mb-8",children:[e.jsx("span",{className:"text-eyebrow block mb-3",children:s("properties.eyebrow")}),e.jsxs("h2",{className:"font-display text-4xl font-bold text-anclora-navy dark:text-anclora-cream leading-[1.05] mb-4",children:[s("properties.title").split(".")[0],".",e.jsx("br",{}),s("properties.title").split(".")[1],"."]}),e.jsx("p",{className:"text-anclora-navy/75 dark:text-anclora-text-muted leading-relaxed",children:s("properties.description")})]}),e.jsx("div",{className:"space-y-4",children:b.map(a=>e.jsxs("article",{className:"card-premium overflow-hidden",children:[e.jsxs("div",{className:"relative h-52 overflow-hidden",children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover",loading:"lazy",decoding:"async"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-anclora-teal/80 via-transparent to-transparent"}),e.jsx("div",{className:"absolute top-3 left-3",children:e.jsx("span",{className:"font-mono text-[0.62rem] uppercase tracking-[0.14em] bg-anclora-teal-dark/85 text-anclora-cream px-2.5 py-1 rounded",children:s(a.typeKey)})})]}),e.jsxs("div",{className:"p-4 bg-anclora-teal-bg",children:[e.jsx("h3",{className:"font-display text-[1.45rem] font-semibold text-anclora-cream mb-1",children:a.name}),e.jsxs("div",{className:"flex items-center gap-1 text-anclora-text-muted text-sm mb-3",children:[e.jsx(f,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:a.location})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-anclora-text-muted mb-3",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{children:a.beds})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(g,{className:"w-4 h-4"}),e.jsxs("span",{children:[a.sqm," m²"]})]})]}),e.jsx("span",{className:"font-display text-2xl font-bold text-anclora-gold",children:a.price})]})]},a.id))}),e.jsxs("button",{className:"btn-anclora-premium w-full !min-w-0 !h-[56px] !mt-7 !px-6",children:[e.jsx("span",{children:s("properties.cta")}),e.jsx(u,{className:"w-4 h-4"})]})]}):e.jsxs(e.Fragment,{children:[e.jsxs("div",{ref:p,className:"absolute left-[6vw] top-[16vh] w-[34vw]",children:[e.jsx("span",{className:"text-eyebrow block mb-4",children:s("properties.eyebrow")}),e.jsxs("h2",{className:"font-display text-4xl lg:text-5xl xl:text-6xl font-bold text-anclora-navy dark:text-anclora-cream leading-tight mb-6",children:[s("properties.title").split(".")[0],".",e.jsx("br",{}),s("properties.title").split(".")[1],"."]}),e.jsx("p",{className:"text-anclora-navy/70 dark:text-anclora-text-muted leading-relaxed max-w-md",children:s("properties.description")})]}),e.jsx("div",{className:"absolute left-[44vw] top-[16vh] w-[50vw] h-[68vh] flex gap-[1.6vw]",children:b.map((a,n)=>e.jsxs("div",{ref:r=>{h.current[n]=r},className:"w-[15.3vw] h-full card-premium group cursor-pointer overflow-hidden",children:[e.jsxs("div",{className:"relative h-[55%] overflow-hidden",children:[e.jsx("img",{src:a.image,alt:a.name,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-110"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-anclora-teal/80 dark:from-anclora-teal/80 via-transparent to-transparent"}),e.jsx("div",{className:"absolute top-4 left-4",children:e.jsx("span",{className:"font-mono text-xs uppercase tracking-[0.14em] bg-anclora-teal-dark/80 dark:bg-anclora-teal-dark/80 text-anclora-cream px-2.5 py-1 rounded backdrop-blur-sm",children:s(a.typeKey)})})]}),e.jsxs("div",{className:"h-[45%] p-5 bg-anclora-teal-bg dark:bg-anclora-teal-bg flex flex-col",children:[e.jsx("h3",{className:"font-display text-xl font-semibold text-anclora-cream mb-2",children:a.name}),e.jsxs("div",{className:"flex items-center gap-1 text-anclora-text-muted text-sm mb-4",children:[e.jsx(f,{className:"w-3.5 h-3.5"}),e.jsx("span",{children:a.location})]}),e.jsxs("div",{className:"flex items-center gap-4 text-sm text-anclora-text-muted mb-4",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(j,{className:"w-4 h-4"}),e.jsx("span",{children:a.beds})]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(g,{className:"w-4 h-4"}),e.jsxs("span",{children:[a.sqm," m²"]})]})]}),e.jsx("div",{className:"mt-auto",children:e.jsx("span",{className:"font-display text-2xl font-bold text-anclora-gold",children:a.price})})]})]},a.id))}),e.jsxs("button",{ref:v,className:"absolute left-[44vw] top-[87vh] btn-anclora-premium !px-8 !min-w-[240px]",children:[e.jsx("span",{children:s("properties.cta")}),e.jsx(u,{className:"w-4 h-4"})]})]})})}export{L as PropertiesSection};
